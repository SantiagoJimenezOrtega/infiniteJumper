<!doctype html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="theme-color" content="#1a0b2e" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="manifest" href="/manifest.json" />
  <title>GET THE WATER - Reconstructed</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/src/style.css">
</head>

<body>
  <div id="app">
    <canvas id="gameCanvas"></canvas>

    <!-- Game HUD -->
    <div id="ui-layer">
      <button id="back-button" style="display: none;">â¬… MenÃº</button>

      <div id="score-container" style="display: none;">
        <div id="drops-score" style="color: #00ffff; margin-right: 15px;">ğŸ’§ 0</div>
        <div id="score">Altura: 0m</div>
        <div id="high-score">Record: 0m</div>
        <button id="mute-button" style="background:none; border:none; font-size: 24px; cursor: pointer;">ğŸ”Š</button>
      </div>

      <!-- POWER-UP HUD (Moved inside UI layer for better layering) -->
      <div id="active-powerups" class="active-powerups-container"></div>

      <div id="milestone-notification" style="display: none;">ğŸ† Â¡100m Alcanzados!</div>
      <div id="controls-hint" style="display: none;">Manten presionado Izq/Der/Centro para saltar</div>
    </div>

    <!-- MAIN MENU -->
    <div id="main-menu" class="menu-screen">
      <h1 class="game-title">GET THE WATER</h1>
      <div class="menu-buttons">
        <button id="btn-continue" class="menu-btn primary" style="display: none;">CONTINUAR</button>
        <button id="btn-new-game" class="menu-btn">NUEVA PARTIDA</button>
        <button id="btn-shop" class="menu-btn secondary">TIENDA ğŸ›’</button>
      </div>
      <div class="footer">All rights reserved Kathini Games</div>
    </div>

    <!-- DIFFICULTY MENU -->
    <div id="difficulty-menu" class="menu-screen" style="display: none;">
      <h2>SELECCIONA DIFICULTAD</h2>
      <div class="menu-buttons">
        <button id="btn-diff-assisted" class="menu-btn primary">ASISTIDO (Con GuÃ­a)</button>
        <button id="btn-diff-extreme" class="menu-btn danger">EXTREMO (Sin GuÃ­a)</button>
        <button id="btn-diff-back" class="menu-btn small">â¬… VOLVER</button>
      </div>
    </div>

    <!-- SHOP MENU -->
    <div id="shop-menu" class="menu-screen" style="display: none;">
      <div class="shop-header">
        <button id="btn-shop-back" class="menu-btn small">â¬… VOLVER</button>
        <h2>TIENDA DE ANIMALES</h2>
        <div class="shop-wallet">ğŸ’§ <span id="shop-wallet-amount">0</span></div>
      </div>
      <div class="shop-layout">
        <div id="shop-grid" class="shop-list-sidebar"></div>
        <div id="shop-details" class="shop-details-panel">
          <div class="empty-selection">SELECCIONA UN ANIMAL</div>
        </div>
      </div>
    </div>

    <!-- POWER UP INFO POPUP -->
    <div id="powerup-popup" class="powerup-popup" style="display: none;">
      <div class="pu-popup-content">
        <div id="pu-popup-emoji" class="pu-popup-emoji">ğŸ§²</div>
        <h2 id="pu-popup-name">POWER UP</h2>
        <p id="pu-popup-desc">DescripciÃ³n aquÃ­.</p>
        <button id="pu-popup-close" class="menu-btn primary">Â¡ENTENDIDO!</button>
      </div>
    </div>

    <!-- REGENERATE WORLD POPUP -->
    <div id="regen-popup" class="powerup-popup" style="display: none;">
      <div class="pu-popup-content">
        <div class="pu-popup-emoji">ğŸ”„</div>
        <h2>Â¿REGENERAR MUNDO?</h2>
        <p>Â¿Quieres reconstruir el camino hacia arriba o prefieres intentar subir por el que ya estaba?</p>
        <div class="menu-buttons">
          <button id="regen-yes" class="menu-btn primary">SÃ, REGENERAR</button>
          <button id="regen-no" class="menu-btn">NO, DEJAR ASÃ</button>
        </div>
      </div>
    </div>

    <!-- MANUAL REGEN BUTTON (Floating) -->
    <button id="btn-manual-regen" class="menu-btn primary"
      style="display: none; position: fixed; bottom: 20%; left: 50%; transform: translateX(-50%); z-index: 100; padding: 15px 30px; border-radius: 50px;">
      ğŸ”„ REGENERAR CAMINO
    </button>

    <!-- VICTORY SCREEN -->
    <div id="victory-screen" class="menu-screen" style="display: none;">
      <h1 class="victory-title">ğŸŒ Â¡MUNDO RESTAURADO!</h1>
      <button id="btn-victory-continue" class="menu-btn primary">VOLVER AL MENÃš</button>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>

</html>